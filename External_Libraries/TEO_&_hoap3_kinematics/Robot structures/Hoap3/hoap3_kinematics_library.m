function h = hoap3_kinematics_library ()
h.w_T_RF = @w_T_RF;
h.w_J_RF = @w_J_RF;
h.RF_T_w = @RF_T_w;
h.RF_J_w = @RF_J_w;
h.w_T_LF = @w_T_LF;
h.w_J_LF = @w_J_LF;
h.LF_T_w = @LF_T_w;
h.LF_J_w = @LF_J_w;
h.w_T_CoM = @w_T_CoM;
h.w_J_CoM = @w_J_CoM;
h.CoM_T_RH = @CoM_T_RH;
h.CoM_J_RH = @CoM_J_RH;
h.CoM_T_LH = @CoM_T_LH;
h.CoM_J_LH = @CoM_J_LH;
h.RF_T_CoM = @RF_T_CoM;
h.RF_J_CoM = @RF_J_CoM;
h.LF_T_CoM = @LF_T_CoM;
h.LF_J_CoM = @LF_J_CoM;
h.CoM_T_RF = @CoM_T_RF;
h.CoM_T_LF = @CoM_T_LF;
end
function pose = w_T_RF (q)
pose=[	- (21.*cos(q(1,:)).*sin(q(3,:)))./200 - (21.*cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))))./200 - (21.*sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))))./200 - (cos(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))))))./25 - (21.*cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:)))./200 - (cos(q(2,:)).*sin(q(1,:)).*sin(q(6,:)))./25;
		(21.*cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:)))./200 - (21.*cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))./200 - (21.*sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))))./200 - (cos(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))))./25 - (21.*sin(q(1,:)).*sin(q(3,:)))./200 + (cos(q(1,:)).*cos(q(2,:)).*sin(q(6,:)))./25 - 39./1000;
		(sin(q(2,:)).*sin(q(6,:)))./25 - (21.*cos(q(2,:)).*cos(q(3,:)))./200 - (cos(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2))./25 + (21.*cos(q(2,:)).*sin(q(3,:)).*sin(q(4,:)))./200 - (21.*cos(q(2,:)).*cos(q(3,:)).*cos(q(4,:)))./200;
		(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:)))) - sin(q(2,:)).*sin(q(6,:)) - sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + cos(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2) + sin(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))) + cos(q(1,:)).*cos(q(2,:)).*cos(q(6,:)) + 1).^(1./2)./2;
		1./2.*sign(cos(q(6,:)).*sin(q(2,:)) + sin(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2) - cos(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))) + cos(q(1,:)).*cos(q(2,:)).*sin(q(6,:))).*(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:)))) + sin(q(2,:)).*sin(q(6,:)) - sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) - cos(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2) - sin(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))) - cos(q(1,:)).*cos(q(2,:)).*cos(q(6,:)) + 1).^(1./2);
		1./2.*sign(sin(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 - sin(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2 + cos(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))))) + cos(q(2,:)).*sin(q(1,:)).*sin(q(6,:))).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) - cos(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2) + sin(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))) + cos(q(1,:)).*cos(q(2,:)).*cos(q(6,:)) + 1).^(1./2);
		1./2.*sign(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:)))) - sin(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) - sin(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))))) + cos(q(2,:)).*cos(q(6,:)).*sin(q(1,:))).*(sin(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) - sin(q(2,:)).*sin(q(6,:)) - cos(q(5,:)).*(cos(q(4,:)).*(cos(q(1,:)).*cos(q(3,:)) - sin(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(cos(q(1,:)).*sin(q(3,:)) + cos(q(3,:)).*sin(q(1,:)).*sin(q(2,:)))) + cos(q(6,:)).*(cos(q(2,:) + q(3,:) + q(4,:) + q(5,:))./2 + cos(q(2,:) - q(3,:) - q(4,:) - q(5,:))./2) - sin(q(6,:)).*(cos(q(5,:)).*(cos(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))) + sin(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:)))) + sin(q(5,:)).*(cos(q(4,:)).*(cos(q(3,:)).*sin(q(1,:)) + cos(q(1,:)).*sin(q(2,:)).*sin(q(3,:))) - sin(q(4,:)).*(sin(q(1,:)).*sin(q(3,:)) - cos(q(1,:)).*cos(q(3,:)).*sin(q(2,:))))) - cos(q(1,:)).*cos(q(2,:)).*cos(q(6,:)) + 1).^(1./2)];
end
function M = w_J_RF(in1)
%W_J_RF
%    M = W_J_RF(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:41

theta01 = in1(1,:);
theta02 = in1(2,:);
theta03 = in1(3,:);
theta04 = in1(4,:);
theta05 = in1(5,:);
theta06 = in1(6,:);
t2 = sin(theta01);
t3 = sin(theta03);
t4 = cos(theta03);
t5 = cos(theta01);
t6 = sin(theta02);
t7 = cos(theta04);
t8 = t2.*t3;
t14 = t4.*t5.*t6;
t9 = -t14+t8;
t10 = sin(theta04);
t11 = t2.*t4;
t12 = t3.*t5.*t6;
t13 = t11+t12;
t15 = cos(theta02);
t16 = sin(theta06);
t17 = cos(theta06);
t18 = t2.*t3.*(2.1e1./2.0e2);
t19 = t7.*t9.*(2.1e1./2.0e2);
t20 = t10.*t13.*(2.1e1./2.0e2);
t21 = cos(theta05);
t22 = t7.*t9;
t23 = t10.*t13;
t24 = t22+t23;
t25 = t21.*t24;
t26 = sin(theta05);
t27 = t13.*t7;
t44 = t10.*t9;
t28 = t27-t44;
t29 = t26.*t28;
t30 = t25+t29;
t31 = t17.*t30.*(1.0./2.5e1);
t45 = t15.*t16.*t5.*(1.0./2.5e1);
t75 = t4.*t5.*t6.*(2.1e1./2.0e2);
t32 = t18+t19+t20+t31-t45-t75;
t33 = t15.*t4.*(2.1e1./2.0e2);
t34 = theta02+theta03+theta04+theta05;
t35 = cos(t34);
t36 = t35.*(1.0./2.0);
t37 = theta02-theta03-theta04-theta05;
t38 = cos(t37);
t39 = t38.*(1.0./2.0);
t40 = t36+t39;
t41 = t17.*t40.*(1.0./2.5e1);
t42 = t15.*t4.*t7.*(2.1e1./2.0e2);
t46 = t16.*t6.*(1.0./2.5e1);
t47 = t10.*t15.*t3.*(2.1e1./2.0e2);
t43 = t33+t41+t42-t46-t47;
t48 = t31-t45;
t49 = t41-t46;
t50 = t3.*t5;
t51 = t2.*t4.*t6;
t52 = t50+t51;
t53 = t4.*t5;
t55 = t2.*t3.*t6;
t54 = t53-t55;
t56 = t52.*t7;
t57 = t10.*t54;
t58 = t56+t57;
t59 = t21.*t58;
t60 = t10.*t52;
t65 = t54.*t7;
t61 = t60-t65;
t66 = t26.*t61;
t62 = t59-t66;
t63 = t52.*t7.*(2.1e1./2.0e2);
t64 = t10.*t54.*(2.1e1./2.0e2);
t67 = t17.*t62.*(1.0./2.5e1);
t68 = t15.*t16.*t2.*(1.0./2.5e1);
t69 = t41+t42-t46-t47;
t70 = t67+t68;
t71 = sin(t34);
t72 = t71.*(1.0./2.0);
t73 = sin(t37);
t87 = t73.*(1.0./2.0);
t74 = t72-t87;
t76 = t3.*t5.*(2.1e1./2.0e2);
t77 = t2.*t4.*t6.*(2.1e1./2.0e2);
t78 = t63+t64+t67+t68+t76+t77;
t79 = t63+t64+t67+t68;
t80 = t19+t20+t31-t45;
t81 = t21.*t61;
t82 = t26.*t58;
t83 = t21.*t28;
t86 = t24.*t26;
t84 = t83-t86;
t85 = t15.*t5;
M = reshape([t32,t10.*t54.*(-2.1e1./2.0e2)-t17.*t62.*(1.0./2.5e1)-t3.*t5.*(2.1e1./2.0e2)-t52.*t7.*(2.1e1./2.0e2)-t15.*t16.*t2.*(1.0./2.5e1)-t2.*t4.*t6.*(2.1e1./2.0e2),0.0,0.0,0.0,1.0,-t2.*t43,t43.*t5,-t32.*t5+t2.*t78,t5,t2,0.0,t32.*t6-t15.*t43.*t5,-t6.*t78-t15.*t2.*t43,t15.*t2.*t32+t15.*t5.*t78,-t15.*t2,t85,t6,t6.*t80-t15.*t5.*t69,-t6.*t79-t15.*t2.*t69,t15.*t2.*t80+t15.*t5.*t79,-t15.*t2,t85,t6,t48.*t6-t15.*t49.*t5,-t6.*t70-t15.*t2.*t49,t15.*t2.*t48+t15.*t5.*t70,-t15.*t2,t85,t6,-t48.*t74-t49.*t84,-t49.*(t81+t82)+t70.*t74,t48.*(t81+t82)+t70.*t84,-t81-t82,t84,-t72+t87],[6, 6]);

end
function pose = RF_T_w (q)
pose=[	(39.*cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)))./1000 - (21.*sin(q(5,:)))./200 - (21.*sin(q(4,:) + q(5,:)))./200 + (39.*sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:)))./1000;
		(21.*cos(q(5,:)).*sin(q(6,:)))./200 + (39.*cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))))./1000 - (39.*sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))./1000 - (21.*sin(q(4,:)).*sin(q(5,:)).*sin(q(6,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*sin(q(6,:)))./200;
		(39.*sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))./1000 + (21.*cos(q(5,:)).*cos(q(6,:)))./200 - (39.*cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)))./1000 - (21.*cos(q(6,:)).*sin(q(4,:)).*sin(q(5,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*cos(q(6,:)))./200 + 1./25;
		(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(2,:)).*sin(q(6,:)) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:)) + 1).^(1./2)./2;
		1./2.*sign(sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) - cos(q(6,:)).*sin(q(2,:)) - cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*(sin(q(2,:)).*sin(q(6,:)) + cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:)) + 1).^(1./2);
		1./2.*sign(- sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)) - sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:)) + 1).^(1./2);
		1./2.*sign(- cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)) - sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:))).*(cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(2,:)).*sin(q(6,:)) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:)) + 1).^(1./2)];
end
function M = RF_J_w(in1)
%RF_J_W
%    M = RF_J_W(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:43

theta01 = in1(1,:);
theta02 = in1(2,:);
theta03 = in1(3,:);
theta04 = in1(4,:);
theta05 = in1(5,:);
theta06 = in1(6,:);
t89 = theta03+theta04+theta05+theta06;
t90 = theta03+theta04+theta05-theta06;
t91 = sin(theta02);
t92 = cos(theta02);
t93 = cos(t89);
t94 = t93.*(1.0./2.0);
t95 = cos(t90);
t96 = sin(theta01);
t97 = sin(t90);
t98 = t97.*(1.0./2.0);
t99 = sin(t89);
t100 = cos(theta01);
t101 = sin(theta06);
t102 = t95.*(1.0./2.0);
t103 = t102+t94;
t104 = cos(theta06);
t105 = t99.*(1.0./2.0);
t106 = t105+t98;
t107 = t106.*t96.*(3.9e1./1.0e3);
t108 = t101.*t92;
t109 = t103.*t91;
t110 = t108+t109;
t114 = t100.*t110.*(3.9e1./1.0e3);
t111 = t107-t114;
t112 = t105-t98;
t113 = t104.*t92;
t119 = t112.*t91;
t115 = t113-t119;
t116 = t100.*t115.*(3.9e1./1.0e3);
t142 = t102-t94;
t117 = t142.*t96.*(3.9e1./1.0e3);
t118 = t116+t117;
t120 = sin(theta04);
t121 = sin(theta05);
t122 = cos(theta04);
t123 = cos(theta05);
t124 = t104.*t122.*t123.*(2.1e1./2.0e2);
t125 = t101.*t122.*t123.*(2.1e1./2.0e2);
t126 = theta03+theta04+theta05;
t127 = t101.*t91;
t144 = t103.*t92;
t128 = t127-t144;
t129 = sin(t126);
t130 = cos(t126);
t131 = t130.*t96.*(3.9e1./1.0e3);
t132 = t100.*t129.*t91.*(3.9e1./1.0e3);
t133 = t131+t132;
t134 = theta04+theta05;
t135 = sin(t134);
t136 = t104.*t123.*(2.1e1./2.0e2);
t137 = t107-t114+t124+t136-t104.*t120.*t121.*(2.1e1./2.0e2);
t138 = t104.*t91;
t139 = t135.*(2.1e1./2.0e2);
t140 = t121.*(2.1e1./2.0e2);
t141 = t101.*t123.*(2.1e1./2.0e2);
t143 = t112.*t92;
M = reshape([-t111.*(t138+t143)-t128.*(t100.*(t113+t91.*(t98-t99.*(1.0./2.0))).*(3.9e1./1.0e3)-t96.*(t94-t95.*(1.0./2.0)).*(3.9e1./1.0e3)),t128.*t133-t111.*t129.*t92,t133.*(t138+t92.*(t105-t98))+t118.*t129.*t92,t129.*t92,-t138-t143,t128,t106.*t118-t111.*(t102-t94),-t106.*t133+t111.*t130,-t118.*t130+t133.*(t102-t94),-t130,-t102+t94,-t105-t98,-t104.*t111-t101.*t118,t101.*t133,t104.*t133,0.0,-t104,t101,-t101.*(t116+t117+t125-t101.*t120.*t121.*(2.1e1./2.0e2))-t104.*(t107-t114+t124-t104.*t120.*t121.*(2.1e1./2.0e2)),t101.*(t131+t132-t135.*(2.1e1./2.0e2)),t104.*(t131+t132-t139),0.0,-t104,t101,-t104.*t137-t101.*(t116+t117+t125+t141-t101.*t120.*t121.*(2.1e1./2.0e2)),t101.*(t131+t132-t139-t140),t104.*(t131+t132-t139-t140),0.0,-t104,t101,0.0,t137,-t116-t117-t125-t141+t101.*t120.*t121.*(2.1e1./2.0e2),-1.0,0.0,0.0],[6, 6]);

end
function pose = w_T_LF (q)
pose=[	- (21.*cos(q(7,:)).*sin(q(9,:)))./200 - (21.*cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))))./200 - (21.*sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))))./200 - (cos(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))))))./25 - (cos(q(8,:)).*sin(q(12,:)).*sin(q(7,:)))./25 - (21.*cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:)))./200;
		(cos(q(7,:)).*cos(q(8,:)).*sin(q(12,:)))./25 - (21.*cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))./200 - (21.*sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))))./200 - (cos(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))))./25 - (21.*sin(q(7,:)).*sin(q(9,:)))./200 + (21.*cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:)))./200 + 39./1000;
		(sin(q(12,:)).*sin(q(8,:)))./25 - (21.*cos(q(8,:)).*cos(q(9,:)))./200 - (cos(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2))./25 + (21.*cos(q(8,:)).*sin(q(10,:)).*sin(q(9,:)))./200 - (21.*cos(q(10,:)).*cos(q(8,:)).*cos(q(9,:)))./200;
		(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:)))) - sin(q(12,:)).*sin(q(8,:)) - sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + cos(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2) + sin(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))) + cos(q(12,:)).*cos(q(7,:)).*cos(q(8,:)) + 1).^(1./2)./2;
		1./2.*sign(cos(q(12,:)).*sin(q(8,:)) + sin(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2) - cos(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))) + cos(q(7,:)).*cos(q(8,:)).*sin(q(12,:))).*(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:)))) + sin(q(12,:)).*sin(q(8,:)) - sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) - cos(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2) - sin(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))) - cos(q(12,:)).*cos(q(7,:)).*cos(q(8,:)) + 1).^(1./2);
		1./2.*sign(sin(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 - sin(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2 + cos(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))))) + cos(q(8,:)).*sin(q(12,:)).*sin(q(7,:))).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) - cos(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2) + sin(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))) + cos(q(12,:)).*cos(q(7,:)).*cos(q(8,:)) + 1).^(1./2);
		1./2.*sign(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:)))) - sin(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) - sin(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))))) + cos(q(12,:)).*cos(q(8,:)).*sin(q(7,:))).*(sin(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) - sin(q(12,:)).*sin(q(8,:)) - cos(q(11,:)).*(cos(q(10,:)).*(cos(q(7,:)).*cos(q(9,:)) - sin(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(cos(q(7,:)).*sin(q(9,:)) + cos(q(9,:)).*sin(q(7,:)).*sin(q(8,:)))) + cos(q(12,:)).*(cos(q(10,:) + q(11,:) + q(8,:) + q(9,:))./2 + cos(q(8,:) - q(11,:) - q(10,:) - q(9,:))./2) - sin(q(12,:)).*(cos(q(11,:)).*(cos(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))) + sin(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:)))) + sin(q(11,:)).*(cos(q(10,:)).*(cos(q(9,:)).*sin(q(7,:)) + cos(q(7,:)).*sin(q(8,:)).*sin(q(9,:))) - sin(q(10,:)).*(sin(q(7,:)).*sin(q(9,:)) - cos(q(7,:)).*cos(q(9,:)).*sin(q(8,:))))) - cos(q(12,:)).*cos(q(7,:)).*cos(q(8,:)) + 1).^(1./2)];
end
function M = w_J_LF(in1)
%W_J_LF
%    M = W_J_LF(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:47

theta10 = in1(10,:);
theta11 = in1(11,:);
theta12 = in1(12,:);
theta07 = in1(7,:);
theta08 = in1(8,:);
theta09 = in1(9,:);
t146 = sin(theta07);
t147 = sin(theta09);
t148 = cos(theta09);
t149 = cos(theta07);
t150 = sin(theta08);
t151 = cos(theta10);
t152 = t146.*t147;
t158 = t148.*t149.*t150;
t153 = t152-t158;
t154 = sin(theta10);
t155 = t146.*t148;
t156 = t147.*t149.*t150;
t157 = t155+t156;
t159 = cos(theta08);
t160 = sin(theta12);
t161 = cos(theta12);
t162 = t146.*t147.*(2.1e1./2.0e2);
t163 = t151.*t153.*(2.1e1./2.0e2);
t164 = t154.*t157.*(2.1e1./2.0e2);
t165 = cos(theta11);
t166 = t151.*t153;
t167 = t154.*t157;
t168 = t166+t167;
t169 = sin(theta11);
t170 = t153.*t154;
t187 = t151.*t157;
t171 = t170-t187;
t186 = t165.*t168;
t188 = t169.*t171;
t172 = t186-t188;
t173 = t161.*t172.*(1.0./2.5e1);
t189 = t149.*t159.*t160.*(1.0./2.5e1);
t219 = t148.*t149.*t150.*(2.1e1./2.0e2);
t174 = t162+t163+t164+t173-t189-t219;
t175 = t148.*t159.*(2.1e1./2.0e2);
t176 = theta10+theta11+theta08+theta09;
t177 = cos(t176);
t178 = t177.*(1.0./2.0);
t179 = -theta10-theta11+theta08-theta09;
t180 = cos(t179);
t181 = t180.*(1.0./2.0);
t182 = t178+t181;
t183 = t161.*t182.*(1.0./2.5e1);
t184 = t148.*t151.*t159.*(2.1e1./2.0e2);
t190 = t150.*t160.*(1.0./2.5e1);
t191 = t147.*t154.*t159.*(2.1e1./2.0e2);
t185 = t175+t183+t184-t190-t191;
t192 = t173-t189;
t193 = t147.*t149;
t194 = t146.*t148.*t150;
t195 = t193+t194;
t196 = t148.*t149;
t198 = t146.*t147.*t150;
t197 = t196-t198;
t199 = t151.*t195;
t200 = t154.*t197;
t201 = t199+t200;
t202 = t165.*t201;
t203 = t151.*t197;
t209 = t154.*t195;
t204 = t203-t209;
t205 = t169.*t204;
t206 = t202+t205;
t207 = t151.*t195.*(2.1e1./2.0e2);
t208 = t154.*t197.*(2.1e1./2.0e2);
t210 = t161.*t206.*(1.0./2.5e1);
t211 = t146.*t159.*t160.*(1.0./2.5e1);
t212 = t183+t184-t190-t191;
t213 = t183-t190;
t214 = t210+t211;
t215 = sin(t176);
t216 = t215.*(1.0./2.0);
t217 = sin(t179);
t232 = t217.*(1.0./2.0);
t218 = t216-t232;
t220 = t147.*t149.*(2.1e1./2.0e2);
t221 = t146.*t148.*t150.*(2.1e1./2.0e2);
t222 = t207+t208+t210+t211+t220+t221;
t223 = t207+t208+t210+t211;
t224 = t163+t164+t173-t189;
t225 = t165.*t204;
t230 = t169.*t201;
t226 = t225-t230;
t227 = t165.*t171;
t228 = t168.*t169;
t229 = t227+t228;
t231 = t149.*t159;
M = reshape([t174,t147.*t149.*(-2.1e1./2.0e2)-t151.*t195.*(2.1e1./2.0e2)-t154.*t197.*(2.1e1./2.0e2)-t161.*t206.*(1.0./2.5e1)-t146.*t148.*t150.*(2.1e1./2.0e2)-t146.*t159.*t160.*(1.0./2.5e1),0.0,0.0,0.0,1.0,-t146.*t185,t149.*t185,-t149.*t174+t146.*t222,t149,t146,0.0,t150.*t174-t149.*t159.*t185,-t150.*t222-t146.*t159.*t185,t146.*t159.*t174+t149.*t159.*t222,-t146.*t159,t231,t150,t150.*t224-t149.*t159.*t212,-t150.*t223-t146.*t159.*t212,t146.*t159.*t224+t149.*t159.*t223,-t146.*t159,t231,t150,t150.*t192-t149.*t159.*t213,-t150.*t214-t146.*t159.*t213,t146.*t159.*t192+t149.*t159.*t214,-t146.*t159,t231,t150,-t192.*t218+t213.*t229,t214.*t218+t226.*(t183-t190),-t192.*t226-t214.*t229,t226,-t227-t228,-t216+t232],[6, 6]);

end
function pose = LF_T_w (q)
pose=[	- (21.*sin(q(10,:) + q(11,:)))./200 - (21.*sin(q(11,:)))./200 - (39.*cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)))./1000 - (39.*sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:)))./1000;
		(21.*cos(q(11,:)).*sin(q(12,:)))./200 - (39.*cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))))./1000 + (39.*sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))./1000 - (21.*sin(q(10,:)).*sin(q(11,:)).*sin(q(12,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*sin(q(12,:)))./200;
		(21.*cos(q(11,:)).*cos(q(12,:)))./200 - (39.*sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))./1000 + (39.*cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)))./1000 - (21.*cos(q(12,:)).*sin(q(10,:)).*sin(q(11,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*cos(q(12,:)))./200 + 1./25;
		(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(12,:)).*sin(q(8,:)) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:)) + 1).^(1./2)./2;
		1./2.*sign(sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) - cos(q(12,:)).*sin(q(8,:)) - cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*(sin(q(12,:)).*sin(q(8,:)) + cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:)) + 1).^(1./2);
		1./2.*sign(- sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)) - sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:)) + 1).^(1./2);
		1./2.*sign(- cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)) - sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:))).*(cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(12,:)).*sin(q(8,:)) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:)) + 1).^(1./2)];
end
function M = LF_J_w(in1)
%LF_J_W
%    M = LF_J_W(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:49

theta10 = in1(10,:);
theta11 = in1(11,:);
theta12 = in1(12,:);
theta07 = in1(7,:);
theta08 = in1(8,:);
theta09 = in1(9,:);
t234 = theta10+theta11+theta12+theta09;
t235 = theta10+theta11-theta12+theta09;
t236 = sin(theta08);
t237 = cos(theta08);
t238 = cos(t234);
t239 = t238.*(1.0./2.0);
t240 = cos(t235);
t241 = sin(theta07);
t242 = sin(t235);
t243 = t242.*(1.0./2.0);
t244 = sin(t234);
t245 = cos(theta07);
t246 = sin(theta12);
t247 = t240.*(1.0./2.0);
t248 = t239+t247;
t249 = cos(theta12);
t250 = t244.*(1.0./2.0);
t251 = t243+t250;
t252 = t241.*t251.*(3.9e1./1.0e3);
t253 = t237.*t246;
t254 = t236.*t248;
t255 = t253+t254;
t260 = t245.*t255.*(3.9e1./1.0e3);
t256 = t252-t260;
t257 = t243-t250;
t258 = t237.*t249;
t259 = t239-t247;
t261 = t236.*t257;
t262 = t258+t261;
t263 = t241.*t259.*(3.9e1./1.0e3);
t265 = t245.*t262.*(3.9e1./1.0e3);
t264 = t263-t265;
t266 = sin(theta10);
t267 = sin(theta11);
t268 = cos(theta10);
t269 = cos(theta11);
t270 = t249.*t266.*t267.*(2.1e1./2.0e2);
t271 = t246.*t268.*t269.*(2.1e1./2.0e2);
t272 = theta10+theta11+theta09;
t273 = t236.*t246;
t293 = t237.*t248;
t274 = t273-t293;
t275 = sin(t272);
t276 = cos(t272);
t277 = t241.*t276.*(3.9e1./1.0e3);
t278 = t236.*t245.*t275.*(3.9e1./1.0e3);
t279 = t277+t278;
t280 = theta10+theta11;
t281 = sin(t280);
t282 = t281.*(2.1e1./2.0e2);
t283 = t249.*t269.*(2.1e1./2.0e2);
t284 = t249.*t268.*t269.*(2.1e1./2.0e2);
t285 = -t252+t260-t270+t283+t284;
t286 = t236.*t249;
t292 = t237.*t257;
t287 = t286-t292;
t288 = t277+t278+t282;
t289 = t267.*(2.1e1./2.0e2);
t290 = t277+t278+t282+t289;
t291 = t246.*t269.*(2.1e1./2.0e2);
M = reshape([t256.*t287+t274.*(t245.*(t258+t236.*(t243-t244.*(1.0./2.0))).*(3.9e1./1.0e3)-t241.*(t239-t240.*(1.0./2.0)).*(3.9e1./1.0e3)),-t274.*t279+t237.*t256.*t275,-t279.*t287+t237.*t275.*(t263-t265),t237.*t275,-t286+t292,t274,-t256.*t259+t251.*t264,t251.*t279-t256.*t276,t259.*t279-t264.*t276,-t276,t259,-t243-t250,t249.*t256-t246.*t264,-t246.*t279,-t249.*t279,0.0,-t249,t246,t249.*(t252-t260+t270-t249.*t268.*t269.*(2.1e1./2.0e2))-t246.*(t263-t265+t271-t246.*t266.*t267.*(2.1e1./2.0e2)),-t246.*t288,-t249.*t288,0.0,-t249,t246,-t246.*(t263-t265+t271+t291-t246.*t266.*t267.*(2.1e1./2.0e2))-t249.*t285,-t246.*t290,-t249.*t290,0.0,-t249,t246,0.0,t285,-t263+t265-t271-t291+t246.*t266.*t267.*(2.1e1./2.0e2),-1.0,0.0,0.0],[6, 6]);

end
function pose = w_T_CoM (q)
pose=[	(7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200;
		0;
		(7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200;
		(2.^(1./2).*(cos(q(13,:)) + 1).^(1./2))./2;
		1./2.*sign(0).*0;
		1./2.*sign(2.*sin(q(13,:))).*2.^(1./2).*(1 - cos(q(13,:))).^(1./2);
		1./2.*sign(0).*0];
end
function M = w_J_CoM(in1)
%W_J_COM
%    M = W_J_COM(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:50

theta13 = in1(13,:);
M = [sin(theta13).*(7.0./2.0e2);0.0;cos(theta13).*(7.0./2.0e2);0.0;1.0;0.0];

end
function pose = CoM_T_RH (q)
pose=[	- (111.*cos(q(15,:)).*sin(q(14,:) - pi./2))./1000 - (171.*sin(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)))./1000 - (171.*cos(q(15,:)).*cos(q(17,:)).*sin(q(14,:) - pi./2))./1000;
		(111.*sin(q(15,:)))./1000 + (171.*cos(q(17,:)).*sin(q(15,:)))./1000 - (171.*cos(q(15,:)).*sin(q(16,:)).*sin(q(17,:)))./1000 - 111./1000;
		(171.*sin(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))))./1000 - (111.*cos(q(15,:)).*cos(q(14,:) - pi./2))./1000 - (171.*cos(q(15,:)).*cos(q(17,:)).*cos(q(14,:) - pi./2))./1000 + 11./200;
		(cos(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*sin(q(17,:)).*sin(q(14,:) - pi./2)) - sin(q(18,:)).*(sin(q(15,:)).*sin(q(17,:)) + cos(q(15,:)).*cos(q(17,:)).*sin(q(16,:))) - sin(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) - sin(q(18,:)).*(cos(q(14,:) - pi./2).*sin(q(16,:)) - cos(q(16,:)).*sin(q(15,:)).*sin(q(14,:) - pi./2)) + cos(q(15,:)).*cos(q(16,:)).*cos(q(18,:)) + cos(q(15,:)).*cos(q(17,:)).*cos(q(14,:) - pi./2) + 1).^(1./2)./2;
		1./2.*sign(cos(q(17,:)).*sin(q(15,:)) + sin(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) + cos(q(15,:)).*cos(q(14,:) - pi./2).*sin(q(17,:))) + cos(q(18,:)).*(sin(q(16,:)).*sin(q(14,:) - pi./2) + cos(q(16,:)).*cos(q(14,:) - pi./2).*sin(q(15,:))) - cos(q(15,:)).*sin(q(16,:)).*sin(q(17,:))).*(cos(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*sin(q(17,:)).*sin(q(14,:) - pi./2)) + sin(q(18,:)).*(sin(q(15,:)).*sin(q(17,:)) + cos(q(15,:)).*cos(q(17,:)).*sin(q(16,:))) + sin(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) - sin(q(18,:)).*(cos(q(14,:) - pi./2).*sin(q(16,:)) - cos(q(16,:)).*sin(q(15,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*cos(q(16,:)).*cos(q(18,:)) - cos(q(15,:)).*cos(q(17,:)).*cos(q(14,:) - pi./2) + 1).^(1./2);
		1./2.*sign(cos(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) + cos(q(15,:)).*cos(q(14,:) - pi./2).*sin(q(17,:))) + sin(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - sin(q(18,:)).*(sin(q(16,:)).*sin(q(14,:) - pi./2) + cos(q(16,:)).*cos(q(14,:) - pi./2).*sin(q(15,:))) + cos(q(15,:)).*cos(q(17,:)).*sin(q(14,:) - pi./2)).*(sin(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) - sin(q(18,:)).*(sin(q(15,:)).*sin(q(17,:)) + cos(q(15,:)).*cos(q(17,:)).*sin(q(16,:))) - cos(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*sin(q(17,:)).*sin(q(14,:) - pi./2)) + sin(q(18,:)).*(cos(q(14,:) - pi./2).*sin(q(16,:)) - cos(q(16,:)).*sin(q(15,:)).*sin(q(14,:) - pi./2)) + cos(q(15,:)).*cos(q(16,:)).*cos(q(18,:)) - cos(q(15,:)).*cos(q(17,:)).*cos(q(14,:) - pi./2) + 1).^(1./2);
		1./2.*sign(sin(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*sin(q(17,:)).*sin(q(14,:) - pi./2)) + cos(q(18,:)).*(sin(q(15,:)).*sin(q(17,:)) + cos(q(15,:)).*cos(q(17,:)).*sin(q(16,:))) + cos(q(18,:)).*(cos(q(14,:) - pi./2).*sin(q(16,:)) - cos(q(16,:)).*sin(q(15,:)).*sin(q(14,:) - pi./2)) + cos(q(15,:)).*cos(q(16,:)).*sin(q(18,:))).*(sin(q(18,:)).*(sin(q(15,:)).*sin(q(17,:)) + cos(q(15,:)).*cos(q(17,:)).*sin(q(16,:))) - cos(q(18,:)).*(cos(q(17,:)).*(cos(q(16,:)).*cos(q(14,:) - pi./2) + sin(q(15,:)).*sin(q(16,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*sin(q(17,:)).*sin(q(14,:) - pi./2)) - sin(q(17,:)).*(cos(q(16,:)).*sin(q(14,:) - pi./2) - cos(q(14,:) - pi./2).*sin(q(15,:)).*sin(q(16,:))) + sin(q(18,:)).*(cos(q(14,:) - pi./2).*sin(q(16,:)) - cos(q(16,:)).*sin(q(15,:)).*sin(q(14,:) - pi./2)) - cos(q(15,:)).*cos(q(16,:)).*cos(q(18,:)) + cos(q(15,:)).*cos(q(17,:)).*cos(q(14,:) - pi./2) + 1).^(1./2)];
end
function M = CoM_J_RH(in1)
%COM_J_RH
%    M = COM_J_RH(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:51

theta14 = in1(14,:);
theta15 = in1(15,:);
theta16 = in1(16,:);
theta17 = in1(17,:);
t297 = pi.*(1.0./2.0);
t296 = -t297+theta14;
t298 = cos(t296);
t299 = cos(theta15);
t300 = sin(t296);
t301 = sin(theta15);
t302 = cos(theta17);
t303 = sin(theta16);
t304 = sin(theta17);
t305 = cos(theta16);
t306 = t301.*(1.11e2./1.0e3);
t307 = t301.*t302.*(1.71e2./1.0e3);
t308 = t306+t307-t299.*t303.*t304.*(1.71e2./1.0e3);
t309 = t298.*t305;
t310 = t300.*t301.*t303;
t311 = t309+t310;
t312 = t300.*t305;
t313 = t312-t298.*t301.*t303;
M = reshape([t298.*t299.*(-1.11e2./1.0e3)+t304.*t313.*(1.71e2./1.0e3)-t298.*t299.*t302.*(1.71e2./1.0e3),0.0,t299.*t300.*(1.11e2./1.0e3)+t304.*t311.*(1.71e2./1.0e3)+t299.*t300.*t302.*(1.71e2./1.0e3),0.0,1.0,0.0,t300.*t308,t299.*(1.11e2./1.0e3)+t299.*t302.*(1.71e2./1.0e3)+t301.*t303.*t304.*(1.71e2./1.0e3),t298.*t308,t298,0.0,-t300,t298.*t303.*t304.*(1.71e2./1.0e3)-t300.*t301.*t304.*t305.*(1.71e2./1.0e3),t299.*t304.*t305.*(-1.71e2./1.0e3),t300.*t303.*t304.*(-1.71e2./1.0e3)-t298.*t301.*t304.*t305.*(1.71e2./1.0e3),t299.*t300,-t301,t298.*t299,t299.*t300.*t304.*(1.71e2./1.0e3)-t298.*t302.*t305.*(1.71e2./1.0e3)-t300.*t301.*t302.*t303.*(1.71e2./1.0e3),t301.*t304.*(-1.71e2./1.0e3)-t299.*t302.*t303.*(1.71e2./1.0e3),t298.*t299.*t304.*(1.71e2./1.0e3)+t300.*t302.*t305.*(1.71e2./1.0e3)-t298.*t301.*t302.*t303.*(1.71e2./1.0e3),-t298.*t303+t300.*t301.*t305,t299.*t305,t300.*t303+t298.*t301.*t305,0.0,0.0,0.0,t304.*t311+t299.*t300.*t302,-t301.*t302+t299.*t303.*t304,-t304.*t313+t298.*t299.*t302],[6, 5]);

end
function pose = CoM_T_LH (q)
pose=[	- (111.*cos(q(20,:)).*sin(q(19,:) - pi./2))./1000 - (171.*sin(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)))./1000 - (171.*cos(q(20,:)).*cos(q(22,:)).*sin(q(19,:) - pi./2))./1000;
		(111.*sin(q(20,:)))./1000 + (171.*cos(q(22,:)).*sin(q(20,:)))./1000 - (171.*cos(q(20,:)).*sin(q(21,:)).*sin(q(22,:)))./1000 + 111./1000;
		(171.*sin(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))))./1000 - (111.*cos(q(20,:)).*cos(q(19,:) - pi./2))./1000 - (171.*cos(q(20,:)).*cos(q(22,:)).*cos(q(19,:) - pi./2))./1000 + 11./200;
		(cos(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*sin(q(22,:)).*sin(q(19,:) - pi./2)) - sin(q(23,:)).*(sin(q(20,:)).*sin(q(22,:)) + cos(q(20,:)).*cos(q(22,:)).*sin(q(21,:))) - sin(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) - sin(q(23,:)).*(cos(q(19,:) - pi./2).*sin(q(21,:)) - cos(q(21,:)).*sin(q(20,:)).*sin(q(19,:) - pi./2)) + cos(q(20,:)).*cos(q(21,:)).*cos(q(23,:)) + cos(q(20,:)).*cos(q(22,:)).*cos(q(19,:) - pi./2) + 1).^(1./2)./2;
		1./2.*sign(cos(q(22,:)).*sin(q(20,:)) + sin(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) + cos(q(20,:)).*cos(q(19,:) - pi./2).*sin(q(22,:))) + cos(q(23,:)).*(sin(q(21,:)).*sin(q(19,:) - pi./2) + cos(q(21,:)).*cos(q(19,:) - pi./2).*sin(q(20,:))) - cos(q(20,:)).*sin(q(21,:)).*sin(q(22,:))).*(cos(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*sin(q(22,:)).*sin(q(19,:) - pi./2)) + sin(q(23,:)).*(sin(q(20,:)).*sin(q(22,:)) + cos(q(20,:)).*cos(q(22,:)).*sin(q(21,:))) + sin(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) - sin(q(23,:)).*(cos(q(19,:) - pi./2).*sin(q(21,:)) - cos(q(21,:)).*sin(q(20,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*cos(q(21,:)).*cos(q(23,:)) - cos(q(20,:)).*cos(q(22,:)).*cos(q(19,:) - pi./2) + 1).^(1./2);
		1./2.*sign(cos(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) + cos(q(20,:)).*cos(q(19,:) - pi./2).*sin(q(22,:))) + sin(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - sin(q(23,:)).*(sin(q(21,:)).*sin(q(19,:) - pi./2) + cos(q(21,:)).*cos(q(19,:) - pi./2).*sin(q(20,:))) + cos(q(20,:)).*cos(q(22,:)).*sin(q(19,:) - pi./2)).*(sin(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) - sin(q(23,:)).*(sin(q(20,:)).*sin(q(22,:)) + cos(q(20,:)).*cos(q(22,:)).*sin(q(21,:))) - cos(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*sin(q(22,:)).*sin(q(19,:) - pi./2)) + sin(q(23,:)).*(cos(q(19,:) - pi./2).*sin(q(21,:)) - cos(q(21,:)).*sin(q(20,:)).*sin(q(19,:) - pi./2)) + cos(q(20,:)).*cos(q(21,:)).*cos(q(23,:)) - cos(q(20,:)).*cos(q(22,:)).*cos(q(19,:) - pi./2) + 1).^(1./2);
		1./2.*sign(sin(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*sin(q(22,:)).*sin(q(19,:) - pi./2)) + cos(q(23,:)).*(sin(q(20,:)).*sin(q(22,:)) + cos(q(20,:)).*cos(q(22,:)).*sin(q(21,:))) + cos(q(23,:)).*(cos(q(19,:) - pi./2).*sin(q(21,:)) - cos(q(21,:)).*sin(q(20,:)).*sin(q(19,:) - pi./2)) + cos(q(20,:)).*cos(q(21,:)).*sin(q(23,:))).*(sin(q(23,:)).*(sin(q(20,:)).*sin(q(22,:)) + cos(q(20,:)).*cos(q(22,:)).*sin(q(21,:))) - cos(q(23,:)).*(cos(q(22,:)).*(cos(q(21,:)).*cos(q(19,:) - pi./2) + sin(q(20,:)).*sin(q(21,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*sin(q(22,:)).*sin(q(19,:) - pi./2)) - sin(q(22,:)).*(cos(q(21,:)).*sin(q(19,:) - pi./2) - cos(q(19,:) - pi./2).*sin(q(20,:)).*sin(q(21,:))) + sin(q(23,:)).*(cos(q(19,:) - pi./2).*sin(q(21,:)) - cos(q(21,:)).*sin(q(20,:)).*sin(q(19,:) - pi./2)) - cos(q(20,:)).*cos(q(21,:)).*cos(q(23,:)) + cos(q(20,:)).*cos(q(22,:)).*cos(q(19,:) - pi./2) + 1).^(1./2)];
end
function M = CoM_J_LH(in1)
%COM_J_LH
%    M = COM_J_LH(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:52

theta20 = in1(20,:);
theta21 = in1(21,:);
theta22 = in1(22,:);
theta19 = in1(19,:);
t316 = pi.*(1.0./2.0);
t315 = -t316+theta19;
t317 = cos(t315);
t318 = cos(theta20);
t319 = sin(t315);
t320 = sin(theta20);
t321 = cos(theta22);
t322 = sin(theta21);
t323 = sin(theta22);
t324 = cos(theta21);
t325 = t320.*(1.11e2./1.0e3);
t326 = t320.*t321.*(1.71e2./1.0e3);
t327 = t325+t326-t318.*t322.*t323.*(1.71e2./1.0e3);
t328 = t317.*t324;
t329 = t319.*t320.*t322;
t330 = t328+t329;
t331 = t319.*t324;
t332 = t331-t317.*t320.*t322;
M = reshape([t317.*t318.*(-1.11e2./1.0e3)+t323.*t332.*(1.71e2./1.0e3)-t317.*t318.*t321.*(1.71e2./1.0e3),0.0,t318.*t319.*(1.11e2./1.0e3)+t323.*t330.*(1.71e2./1.0e3)+t318.*t319.*t321.*(1.71e2./1.0e3),0.0,1.0,0.0,t319.*t327,t318.*(1.11e2./1.0e3)+t318.*t321.*(1.71e2./1.0e3)+t320.*t322.*t323.*(1.71e2./1.0e3),t317.*t327,t317,0.0,-t319,t317.*t322.*t323.*(1.71e2./1.0e3)-t319.*t320.*t323.*t324.*(1.71e2./1.0e3),t318.*t323.*t324.*(-1.71e2./1.0e3),t319.*t322.*t323.*(-1.71e2./1.0e3)-t317.*t320.*t323.*t324.*(1.71e2./1.0e3),t318.*t319,-t320,t317.*t318,t318.*t319.*t323.*(1.71e2./1.0e3)-t317.*t321.*t324.*(1.71e2./1.0e3)-t319.*t320.*t321.*t322.*(1.71e2./1.0e3),t320.*t323.*(-1.71e2./1.0e3)-t318.*t321.*t322.*(1.71e2./1.0e3),t317.*t318.*t323.*(1.71e2./1.0e3)+t319.*t321.*t324.*(1.71e2./1.0e3)-t317.*t320.*t321.*t322.*(1.71e2./1.0e3),-t317.*t322+t319.*t320.*t324,t318.*t324,t319.*t322+t317.*t320.*t324,0.0,0.0,0.0,t323.*t330+t318.*t319.*t321,-t320.*t321+t318.*t322.*t323,-t323.*t332+t317.*t318.*t321],[6, 5]);

end
function pose = RF_T_CoM (q)
pose=[	(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (21.*sin(q(5,:)))./200 - (21.*sin(q(4,:) + q(5,:)))./200 + (39.*cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)))./1000 - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:)))./1000;
		(21.*cos(q(5,:)).*sin(q(6,:)))./200 - (sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))))./1000 + (cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))./1000 - (21.*sin(q(4,:)).*sin(q(5,:)).*sin(q(6,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*sin(q(6,:)))./200;
		(39.*sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))./1000 + (21.*cos(q(5,:)).*cos(q(6,:)))./200 + (sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)))./1000 - (sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(6,:)).*sin(q(4,:)).*sin(q(5,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*cos(q(6,:)))./200 + 1./25;
		(cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2)./2;
		1./2.*sign(sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + sin(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))).*(cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) + cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(sin(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - cos(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - sin(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*cos(q(13,:))).*(cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(- cos(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)) - sin(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:))).*(sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2)];
end
function M = RF_J_CoM(in1)
%RF_J_COM
%    M = RF_J_COM(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:54

theta01 = in1(1,:);
theta02 = in1(2,:);
theta03 = in1(3,:);
theta04 = in1(4,:);
theta13 = in1(13,:);
theta05 = in1(5,:);
theta06 = in1(6,:);
t334 = theta03+theta04+theta05+theta06;
t335 = theta03+theta04+theta05-theta06;
t336 = sin(theta02);
t337 = cos(theta02);
t338 = cos(t334);
t339 = t338.*(1.0./2.0);
t340 = cos(t335);
t341 = sin(theta01);
t342 = sin(t335);
t343 = t342.*(1.0./2.0);
t344 = sin(t334);
t345 = cos(theta01);
t346 = sin(theta06);
t347 = t340.*(1.0./2.0);
t348 = t339+t347;
t349 = cos(theta06);
t350 = t344.*(1.0./2.0);
t351 = t343+t350;
t352 = t341.*t351.*(3.9e1./1.0e3);
t353 = t337.*t346;
t354 = t336.*t348;
t355 = t353+t354;
t360 = t345.*t355.*(3.9e1./1.0e3);
t356 = t352-t360;
t357 = t343-t350;
t358 = t337.*t349;
t359 = t339-t347;
t361 = t336.*t357;
t362 = t358+t361;
t363 = t341.*t359.*(3.9e1./1.0e3);
t364 = sin(theta04);
t365 = sin(theta05);
t366 = cos(theta04);
t367 = cos(theta05);
t368 = t349.*t366.*t367.*(2.1e1./2.0e2);
t369 = t346.*t364.*t365.*(2.1e1./2.0e2);
t370 = theta03+theta04+theta05;
t371 = t336.*t346;
t390 = t337.*t348;
t372 = t371-t390;
t373 = sin(t370);
t374 = cos(t370);
t375 = t341.*t374.*(3.9e1./1.0e3);
t376 = t336.*t345.*t373.*(3.9e1./1.0e3);
t377 = t375+t376;
t378 = theta04+theta05;
t379 = sin(t378);
t380 = t349.*t367.*(2.1e1./2.0e2);
t381 = t352-t360+t368+t380-t349.*t364.*t365.*(2.1e1./2.0e2);
t382 = t336.*t349;
t389 = t337.*t357;
t383 = t382-t389;
t384 = t345.*t362.*(3.9e1./1.0e3);
t385 = t379.*(2.1e1./2.0e2);
t386 = t365.*(2.1e1./2.0e2);
t387 = t346.*t367.*(2.1e1./2.0e2);
t388 = t346.*t366.*t367.*(2.1e1./2.0e2);
M = reshape([-t356.*t383-t372.*(t345.*(t358+t336.*(t343-t344.*(1.0./2.0))).*(3.9e1./1.0e3)-t341.*(t339-t340.*(1.0./2.0)).*(3.9e1./1.0e3)),t372.*t377-t337.*t356.*t373,t377.*t383-t337.*t373.*(t363-t384),t337.*t373,-t382+t389,t372,t356.*t359-t351.*(t363-t345.*t362.*(3.9e1./1.0e3)),-t351.*t377+t356.*t374,-t359.*t377+t374.*(t363-t384),-t374,t359,-t343-t350,-t349.*t356+t346.*(t363-t345.*t362.*(3.9e1./1.0e3)),t346.*t377,t349.*t377,0.0,-t349,t346,t346.*(t363+t369-t345.*t362.*(3.9e1./1.0e3)-t346.*t366.*t367.*(2.1e1./2.0e2))-t349.*(t352-t360+t368-t349.*t364.*t365.*(2.1e1./2.0e2)),t346.*(t375+t376-t379.*(2.1e1./2.0e2)),t349.*(t375+t376-t385),0.0,-t349,t346,-t346.*(-t363-t369+t384+t387+t388)-t349.*t381,t346.*(t375+t376-t385-t386),t349.*(t375+t376-t385-t386),0.0,-t349,t346,0.0,t381,t363+t369-t384-t387-t388,-1.0,0.0,0.0,sin(theta13).*(7.0./2.0e2),0.0,cos(theta13).*(7.0./2.0e2),0.0,1.0,0.0],[6, 7]);

end
function pose = LF_T_CoM (q)
pose=[	(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (21.*sin(q(11,:)))./200 - (21.*sin(q(10,:) + q(11,:)))./200 - (39.*cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)))./1000 - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:)))./1000;
		(21.*cos(q(11,:)).*sin(q(12,:)))./200 - (sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))))./1000 + (cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))./1000 - (21.*sin(q(10,:)).*sin(q(11,:)).*sin(q(12,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*sin(q(12,:)))./200;
		(21.*cos(q(11,:)).*cos(q(12,:)))./200 - (39.*sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))./1000 + (sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)))./1000 - (sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(12,:)).*sin(q(10,:)).*sin(q(11,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*cos(q(12,:)))./200 + 1./25;
		(cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2)./2;
		1./2.*sign(sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + sin(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))).*(cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) + cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(sin(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - cos(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - sin(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(13,:)).*cos(q(8,:))).*(cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(- cos(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)) - sin(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:))).*(sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2)];
end
function M = LF_J_CoM(in1)
%LF_J_COM
%    M = LF_J_COM(IN1)

%    This function was generated by the Symbolic Math Toolbox version 5.6.
%    05-Aug-2011 15:47:56

theta10 = in1(10,:);
theta11 = in1(11,:);
theta12 = in1(12,:);
theta13 = in1(13,:);
theta07 = in1(7,:);
theta08 = in1(8,:);
theta09 = in1(9,:);
t392 = theta10+theta11+theta12+theta09;
t393 = theta10+theta11-theta12+theta09;
t394 = sin(theta08);
t395 = cos(theta08);
t396 = cos(t392);
t397 = t396.*(1.0./2.0);
t398 = cos(t393);
t399 = sin(theta07);
t400 = sin(t393);
t401 = t400.*(1.0./2.0);
t402 = sin(t392);
t403 = cos(theta07);
t404 = sin(theta12);
t405 = t398.*(1.0./2.0);
t406 = t397+t405;
t407 = cos(theta12);
t408 = t402.*(1.0./2.0);
t409 = t401+t408;
t410 = t399.*t409.*(3.9e1./1.0e3);
t411 = t395.*t404;
t412 = t394.*t406;
t413 = t411+t412;
t418 = t403.*t413.*(3.9e1./1.0e3);
t414 = t410-t418;
t415 = t401-t408;
t416 = t395.*t407;
t417 = t397-t405;
t419 = t394.*t415;
t420 = t416+t419;
t421 = t399.*t417.*(3.9e1./1.0e3);
t423 = t403.*t420.*(3.9e1./1.0e3);
t422 = t421-t423;
t424 = sin(theta10);
t425 = sin(theta11);
t426 = cos(theta10);
t427 = cos(theta11);
t428 = t407.*t424.*t425.*(2.1e1./2.0e2);
t429 = t404.*t426.*t427.*(2.1e1./2.0e2);
t430 = theta10+theta11+theta09;
t431 = t394.*t404;
t451 = t395.*t406;
t432 = t431-t451;
t433 = sin(t430);
t434 = cos(t430);
t435 = t399.*t434.*(3.9e1./1.0e3);
t436 = t394.*t403.*t433.*(3.9e1./1.0e3);
t437 = t435+t436;
t438 = theta10+theta11;
t439 = sin(t438);
t440 = t439.*(2.1e1./2.0e2);
t441 = t407.*t427.*(2.1e1./2.0e2);
t442 = t407.*t426.*t427.*(2.1e1./2.0e2);
t443 = -t410+t418-t428+t441+t442;
t444 = t394.*t407;
t450 = t395.*t415;
t445 = t444-t450;
t446 = t435+t436+t440;
t447 = t425.*(2.1e1./2.0e2);
t448 = t435+t436+t440+t447;
t449 = t404.*t427.*(2.1e1./2.0e2);
M = reshape([t414.*t445+t432.*(t403.*(t416+t394.*(t401-t402.*(1.0./2.0))).*(3.9e1./1.0e3)-t399.*(t397-t398.*(1.0./2.0)).*(3.9e1./1.0e3)),-t432.*t437+t395.*t414.*t433,-t437.*t445+t395.*t433.*(t421-t423),t395.*t433,-t444+t450,t432,t409.*t422-t414.*t417,t409.*t437-t414.*t434,t417.*t437-t422.*t434,-t434,t417,-t401-t408,t407.*t414-t404.*t422,-t404.*t437,-t407.*t437,0.0,-t407,t404,t407.*(t410-t418+t428-t407.*t426.*t427.*(2.1e1./2.0e2))-t404.*(t421-t423+t429-t404.*t424.*t425.*(2.1e1./2.0e2)),-t404.*t446,-t407.*t446,0.0,-t407,t404,-t404.*(t421-t423+t429+t449-t404.*t424.*t425.*(2.1e1./2.0e2))-t407.*t443,-t404.*t448,-t407.*t448,0.0,-t407,t404,0.0,t443,-t421+t423-t429-t449+t404.*t424.*t425.*(2.1e1./2.0e2),-1.0,0.0,0.0,sin(theta13).*(7.0./2.0e2),0.0,cos(theta13).*(7.0./2.0e2),0.0,1.0,0.0],[6, 7]);

end
function pose = CoM_T_RF (q)
pose=[	(cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:))).*((21.*sin(q(4,:) + q(5,:)))./200 + (21.*sin(q(5,:)))./200 - (cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)))./1000 + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:)))./1000) - (cos(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) + sin(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))).*((39.*sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))./1000 + (21.*cos(q(5,:)).*cos(q(6,:)))./200 + (sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)))./1000 - (sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(6,:)).*sin(q(4,:)).*sin(q(5,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*cos(q(6,:)))./200 + 1./25) + (cos(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + sin(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))).*((21.*cos(q(5,:)).*sin(q(6,:)))./200 - (sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))))./1000 + (cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))./1000 - (21.*sin(q(4,:)).*sin(q(5,:)).*sin(q(6,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*sin(q(6,:)))./200);
		(cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:))).*((21.*sin(q(4,:) + q(5,:)))./200 + (21.*sin(q(5,:)))./200 - (cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)))./1000 + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:)))./1000) - (sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) - cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))).*((39.*sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))./1000 + (21.*cos(q(5,:)).*cos(q(6,:)))./200 + (sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)))./1000 - (sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(6,:)).*sin(q(4,:)).*sin(q(5,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*cos(q(6,:)))./200 + 1./25) - (cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((21.*cos(q(5,:)).*sin(q(6,:)))./200 - (sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))))./1000 + (cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))./1000 - (21.*sin(q(4,:)).*sin(q(5,:)).*sin(q(6,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*sin(q(6,:)))./200);
		(sin(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*cos(q(13,:))).*((21.*sin(q(4,:) + q(5,:)))./200 + (21.*sin(q(5,:)))./200 - (cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)))./1000 + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:)))./1000) - (sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))).*((39.*sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))./1000 + (21.*cos(q(5,:)).*cos(q(6,:)))./200 + (sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)))./1000 - (sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(6,:)).*sin(q(4,:)).*sin(q(5,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*cos(q(6,:)))./200 + 1./25) + (sin(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))).*((21.*cos(q(5,:)).*sin(q(6,:)))./200 - (sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))))./1000 + (cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (39.*sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2))./1000 - (21.*sin(q(4,:)).*sin(q(5,:)).*sin(q(6,:)))./200 + (21.*cos(q(4,:)).*cos(q(5,:)).*sin(q(6,:)))./200);
		(cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2)./2;
		1./2.*sign(cos(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - sin(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - sin(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2))).*(cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) + cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(cos(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - sin(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + sin(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*cos(q(13,:))).*(cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) + cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) - sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(cos(q(13,:)).*(sin(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + cos(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)) + sin(q(13,:)).*(cos(q(6,:)).*sin(q(2,:)) - cos(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) + sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)).*sin(q(2,:))).*(sin(q(13,:)).*(sin(q(1,:)).*(cos(q(2,:)).*sin(q(6,:)) + sin(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) + cos(q(1,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 + sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2)) - cos(q(13,:)).*(cos(q(3,:) + q(4,:) + q(5,:)).*cos(q(1,:)) - sin(q(3,:) + q(4,:) + q(5,:)).*sin(q(1,:)).*sin(q(2,:))) - cos(q(13,:)).*(sin(q(2,:)).*sin(q(6,:)) - cos(q(2,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 + cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2)) - cos(q(1,:)).*(sin(q(2,:)).*(sin(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2 - sin(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2) + cos(q(2,:)).*cos(q(6,:))) + sin(q(1,:)).*(cos(q(3,:) + q(4,:) + q(5,:) + q(6,:))./2 - cos(q(3,:) + q(4,:) + q(5,:) - q(6,:))./2) - sin(q(3,:) + q(4,:) + q(5,:)).*cos(q(2,:)).*sin(q(13,:)) + 1).^(1./2)];
end
function pose = CoM_T_LF (q)
pose=[	(cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:))).*((21.*sin(q(10,:) + q(11,:)))./200 + (21.*sin(q(11,:)))./200 - (cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)))./1000 + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:)))./1000) - (cos(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) + sin(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))).*((21.*cos(q(11,:)).*cos(q(12,:)))./200 - (39.*sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))./1000 + (sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)))./1000 - (sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(12,:)).*sin(q(10,:)).*sin(q(11,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*cos(q(12,:)))./200 + 1./25) + (cos(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + sin(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))).*((21.*cos(q(11,:)).*sin(q(12,:)))./200 - (sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))))./1000 + (cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))./1000 - (21.*sin(q(10,:)).*sin(q(11,:)).*sin(q(12,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*sin(q(12,:)))./200);
		(cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:))).*((21.*sin(q(10,:) + q(11,:)))./200 + (21.*sin(q(11,:)))./200 - (cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)))./1000 + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:)))./1000) - (sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) - cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))).*((21.*cos(q(11,:)).*cos(q(12,:)))./200 - (39.*sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))./1000 + (sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)))./1000 - (sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(12,:)).*sin(q(10,:)).*sin(q(11,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*cos(q(12,:)))./200 + 1./25) - (cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((21.*cos(q(11,:)).*sin(q(12,:)))./200 - (sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))))./1000 + (cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))./1000 - (21.*sin(q(10,:)).*sin(q(11,:)).*sin(q(12,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*sin(q(12,:)))./200);
		(sin(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(13,:)).*cos(q(8,:))).*((21.*sin(q(10,:) + q(11,:)))./200 + (21.*sin(q(11,:)))./200 - (cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)))./1000 + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:)))./1000) - (sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))).*((21.*cos(q(11,:)).*cos(q(12,:)))./200 - (39.*sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))./1000 + (sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) + (39.*cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)))./1000 - (sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) - (21.*cos(q(12,:)).*sin(q(10,:)).*sin(q(11,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*cos(q(12,:)))./200 + 1./25) + (sin(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))).*((21.*cos(q(11,:)).*sin(q(12,:)))./200 - (sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)).*((7.*sin(q(13,:)))./100 - (7.*cos(q(13,:)))./200 + 7./200) - (39.*cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))))./1000 + (cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)).*((7.*cos(q(13,:)))./100 + (7.*sin(q(13,:)))./200 + 11./200) + (39.*sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2))./1000 - (21.*sin(q(10,:)).*sin(q(11,:)).*sin(q(12,:)))./200 + (21.*cos(q(10,:)).*cos(q(11,:)).*sin(q(12,:)))./200);
		(cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2)./2;
		1./2.*sign(cos(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - sin(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - sin(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2))).*(cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) + cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(cos(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - sin(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + sin(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(13,:)).*cos(q(8,:))).*(cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) + cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) - sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2);
		1./2.*sign(cos(q(13,:)).*(sin(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + cos(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)) + sin(q(13,:)).*(cos(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) + sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)).*sin(q(8,:))).*(sin(q(13,:)).*(sin(q(7,:)).*(cos(q(8,:)).*sin(q(12,:)) + sin(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) + cos(q(7,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 + sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2)) - cos(q(13,:)).*(cos(q(10,:) + q(11,:) + q(9,:)).*cos(q(7,:)) - sin(q(10,:) + q(11,:) + q(9,:)).*sin(q(7,:)).*sin(q(8,:))) - cos(q(13,:)).*(sin(q(12,:)).*sin(q(8,:)) - cos(q(8,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 + cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2)) - cos(q(7,:)).*(sin(q(8,:)).*(sin(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2 - sin(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2) + cos(q(12,:)).*cos(q(8,:))) + sin(q(7,:)).*(cos(q(10,:) + q(11,:) + q(12,:) + q(9,:))./2 - cos(q(10,:) + q(11,:) - q(12,:) + q(9,:))./2) - sin(q(10,:) + q(11,:) + q(9,:)).*cos(q(8,:)).*sin(q(13,:)) + 1).^(1./2)];
end